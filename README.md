# Maritime Market Watch

Проект **Maritime Market Watch (MMW)** предназначен для мониторинга состояния морского рынка. Он собирает биржевые данные по судоходным компаниям, значения отраслевых индексов и новости из различных источников. В дальнейшем данные можно использовать для аналитики и построения визуализаций.

## Возможности
- Отслеживание цен акций судоходных компаний из наблюдаемого списка.
- Хранение исторических значений отраслевых индексов.
- Сбор новостей и базовая обработка текста.

## Установка и запуск
1. Убедитесь, что установлен **Python 3.11** или новее.
2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
4. Инициализируйте базу данных (создастся файл `data/mmw.sqlite`):
   ```bash
   python -c "from mmw.db import init_db; init_db()"
   ```
5. Запустите утилиты проекта или разработку.

## Структура проекта
- `src/mmw` — исходный код пакета.
- `data/` — каталог для хранения данных и базы SQLite.
- `docs/` — статические файлы документации.

Проект находится в активной разработке. Добро пожаловать к участию!

## Цены (yfinance)
Загрузка котировок реализована через библиотеку [yfinance](https://github.com/ranaroussi/yfinance), которая получает данные из Yahoo Finance. Дополнительные ключи API не требуются.

Для обновления цен по списку наблюдения выполните:

```bash
python -m mmw.prices --since 2022-01-01
```

По умолчанию при отсутствии параметра `--since` загружаются данные за последние три года.

## Индексы
Проект может хранить значения отраслевых индексов. Исторические данные можно заносить вручную в файл `data/indices_manual.csv` и импортировать функцией `import_indices_from_csv()`.

- **HARPEX** — индекс фрахтовых ставок контейнерных судов от Harper Petersen. Официальная страница: https://www.harperpetersen.com/harpex
- **SCFI** — Shanghai Containerized Freight Index. Публикация: https://en.sse.net.cn/indices/scfi
- **WCI** — World Container Index (Drewry). Официальная страница: https://www.drewry.co.uk/supply-chain-expertise/world-container-index-drewry
- **FBX** — Freightos Baltic Index. Официальная страница: https://fbx.freightos.com/

Парсеры для получения текущих значений доступны, однако использовать их следует только если это не нарушает условия использования сайтов и правила robots.txt. В остальных случаях данные лучше загружать вручную через CSV.

Чтобы полностью отключить автоматический парсинг отдельных индексов, установите переменные окружения `MMW_SKIP_HARPEX`, `MMW_SKIP_WCI`, `MMW_SKIP_SCFI` или `MMW_SKIP_FBX`.

## Новости (RSS)
Проект может получать новости из открытых RSS-лент отраслевых изданий.
Примеры источников:

- [Hellenic Shipping News](https://www.hellenicshippingnews.com/feed/)
- [Maritime Executive](https://www.maritime-executive.com/rss)
- [gCaptain](https://gcaptain.com/feed/)

Новости можно загрузить и сохранить в базу данных командой:

```bash
python -m mmw.news
```

## AI без ключей

Проект содержит базовые функции обработки текста, которые работают без внешних API-ключей. Для краткого пересказа используется алгоритм TextRank из библиотеки `sumy`, а выделение сущностей выполняется при помощи `spaCy`. Полученные результаты предназначены лишь для упрощённой аналитики и не являются профессиональными рекомендациями.
